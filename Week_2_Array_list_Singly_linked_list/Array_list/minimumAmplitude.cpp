#include<iostream>
#include<vector>
#include<climits>
using namespace std;

/*
Summary of logic:
+ The function tries every possible subarray of length k to remove.
+ For each removal, it calculates the amplitude (max - min) of the remaining array.
+ It keeps track of the smallest such amplitude found and returns it.
*/

int minimumAmplitude(vector<int>& nums, int k) {

    int size = nums.size(), result = INT_MAX; // Store the size of the input array to improve performance (do not need to call the size() method anymore) and initialize the result with maximum possible 32-bit signed integer (<climits> library)

    // Loop through all possible starting indices of a subarray of length k to be removed
    for (int i = 0; i < size - k + 1; i++) {
        int maxEle = INT_MIN, minEle = INT_MAX; // Initialize max and min element for the remaining array (<climits> library)
        
        // Loop through the array to compute max and min after removing subarray [i, i + k - 1]
        for (int j = 0; j < size; j++) {
            if (i <= j && j < i + k) continue; // Skip the elements in the current subarray of length k
            
            // Update max and min for the remaining elements
            if (nums.at(j) > maxEle) maxEle = nums.at(j); // the at() method in <vector> library
            if (nums.at(j) < minEle) minEle = nums.at(j); // the at() method in <vector> library
        }
        // Update the result with the minimum amplitude found so far
        if (maxEle - minEle < result) result = maxEle - minEle;
    }
    return result;
}

int main() {
    
    // Test 1
    vector<int> nums1 {9, 6, 2, 1, 10, 7};
    int k = 2;
    cout << minimumAmplitude(nums1, k) << endl; // Result: 4
    
    // Test 2
    vector<int> nums2 {375, 8734, 7366, 433, 1063, 371, 412, 6424, 3680, 4100};
    k = 3;
    cout << minimumAmplitude(nums2, k) << endl; // Result: 6053

    // Test 3
    vector<int> nums3 {5344, 4704, 7723, 3528, 3427, 3530, 1754, 7454, 5405, 290, 4765, 6172, 1003, 5975, 1775, 1922, 5239, 2447, 5968, 2641};
    k = 7;
    cout << minimumAmplitude(nums3, k) << endl; // Result: 5882

    // Test 4
    vector<int> nums4 {8217, 8261, 3511, 7858, 5583, 560, 7904, 132, 3163, 7842, 1387, 4308, 6635, 8734, 5147, 6452, 9752, 2512, 9103, 4873, 4691, 8334, 2757, 2061, 8017, 2942, 5114, 3073, 3001, 8184, 52, 550, 8683, 4589, 5236, 5053, 2948, 7432, 5862, 9389, 7487, 4739, 4123, 86, 4254, 2606, 1817, 6196, 1897, 652, 2529, 7078, 9910, 5150, 5282, 6559, 5321, 2644, 9292, 6029, 110, 9440, 3607, 1896, 8629, 2574, 1701, 1037, 9837, 4674, 2485, 1628, 1477, 5744, 1833, 3342, 2687, 7681, 6699, 6907, 949, 7572, 6811, 827, 4944, 6404, 2828, 2683, 1527, 297, 8240, 9251, 4837, 9201, 6497, 7477, 8703, 1232, 2978, 7176, 4804, 9286, 3269, 8551, 981};
    k = 37;
    cout << minimumAmplitude(nums4, k) << endl; // Result: 9700

    // Test 5
    vector<int> nums5 {1838, 5396, 1702, 2849, 3015, 8800, 7222, 9907, 1317, 47, 668, 9368, 76, 7351, 7458, 3942, 9423, 7466, 119, 8547, 7514, 181, 7807, 9276, 6659, 9960, 6574, 508, 6542, 598, 8406, 3612, 4512, 2687, 2940, 3078, 9590, 3597, 977, 1214, 6328, 6555, 896, 1859, 6232, 1757, 6035, 6850, 5055, 524, 4603, 3564, 8282, 560, 5872, 2345, 4016, 995, 8517, 1965, 3464, 4179, 1648, 1482, 1144, 1240, 985, 3878, 849, 8984, 1808, 6447, 4106, 1751, 1316, 9468, 7177, 5827, 8434, 917, 8265, 8927, 6042, 6422, 7721, 6205, 6616, 240, 5537, 4242, 8641, 2288, 795, 9973, 9628, 9940, 2239, 2200, 2292, 1307, 8510, 6922, 2027, 5789, 3364, 4923, 2257, 3867, 3320, 8226, 4085, 6040, 6934, 9996, 4060, 2600, 8655, 3446, 2016, 7992, 927, 7084, 9594, 3422, 895, 7395, 7826, 1810, 7515, 132, 7958, 7501, 8199, 8106, 6042, 8048, 4798, 479, 1455, 2809, 3436, 3585, 6215, 738, 5388, 1707, 6760, 2586, 1204, 1809, 5071, 6489, 3568, 8187, 6966, 3390, 3420, 1830, 7209, 6842, 5910, 3655, 6486, 9602, 7299, 9202, 980, 7265, 2785, 5178, 4053, 1821, 3596, 6346, 9070, 3227, 4405, 4387, 3046, 8485, 8320, 631, 9805, 4619, 4365, 2405, 5456, 5224, 6394, 5702, 2538, 1718, 2807, 2040, 1021, 836, 1561, 1144, 4993, 1639, 915, 901, 2604, 4207, 8242, 1379, 2387, 8652, 3976, 718, 3071, 176, 5787, 2447, 4036, 9895, 5135, 1412, 7166, 8036, 673, 1866, 4061, 45, 5573, 9678, 7650, 3275, 5107, 3605, 26, 762, 4765, 4649, 5995, 4888, 4645, 2293, 2461, 1852, 8845, 1266, 555, 8084, 526, 1299, 1065, 9524, 6908, 4765, 1609, 7019, 9946, 220, 1353, 2360, 8026, 7778, 8798, 1229, 9352, 4993, 6279, 9459, 6360, 1307, 1595, 6559, 2909, 2504, 9381, 9059, 9131, 1720, 9393, 5943, 1215, 9961, 759, 3178, 2702, 9915, 168, 2372, 7963, 9394, 2246, 1662, 7661, 972, 4297, 5092, 8544, 2452, 511, 9481, 6939, 5350, 3107, 9692, 5970, 8628, 5954, 1738, 8012, 120, 890, 803, 440, 9947, 8468, 1922, 1979, 3893, 9939, 375, 6845, 3989, 7293, 9575, 9494, 9012, 9690, 5799, 2531, 1862, 2203, 1204, 1421, 9137, 9948, 3607, 2364, 480, 8781, 9975, 4039, 2394, 3757, 256, 847, 7039, 6104, 3746, 3421, 8850, 4356, 621, 8777, 109, 9142, 7420, 9453, 8466, 1322, 3135, 9529, 6142, 7394, 3005, 9480, 4611, 5102, 8169, 691, 3222, 1021, 9093, 3284, 1285, 8579, 740, 2382, 221, 3836, 9109, 2155, 7595, 4257, 3245, 4310, 5362, 8696, 1747, 5450, 6557, 4016, 9122, 9514, 8645, 3149, 4651, 7235, 9909, 7264, 3785, 5151, 6908, 8555, 5801, 8267, 5730, 3348, 8169, 3355, 5519, 88, 7088, 2525, 6985, 7890, 8927, 1291, 3324, 2348, 2199, 1845, 2862, 4469, 4634, 6366, 6995, 7555, 70, 7254, 1679, 7003, 1408, 5544, 8635, 3823, 3741, 7956, 1482, 695, 71, 448, 2155, 9843, 4765, 8091, 65, 3680, 1660, 5938, 1842, 281, 9181, 7750, 4845, 1248, 1087, 4029, 7552, 1421, 1191, 1321, 8297, 2294, 836, 8966, 1467, 7520, 1784, 535, 9411, 3429, 4516, 7636, 3627, 6342, 7843, 1629, 6702, 6386, 1515, 1762, 7501, 9240, 1727, 421, 2322, 5866, 3208, 6512, 8180, 419, 3028, 3204, 9418, 2986, 9647, 881, 5507, 1367, 4658, 637, 1045, 6229, 122};
    k = 227;
    cout << minimumAmplitude(nums5, k) << endl; // Result: 9910

    // Test 6
    vector<int> nums6 {4450, 2935, 6136, 9907, 4057, 3782, 4944, 6686, 2192, 2934, 2659, 66, 1475, 4756, 9112, 3062, 6171, 9682, 7097, 2464, 8933, 4300, 6211, 7338, 3235, 8540, 6457, 7446, 1761, 4827, 414, 1248, 3722, 4473, 6019, 1859, 1980, 1696, 6909, 9279, 1882, 5444, 3178, 298, 9297, 4077, 7158, 3332, 9757, 119, 6457, 5311, 2348, 7369, 2275, 1070, 9635, 3302, 299, 1309, 5120, 1633, 9253, 3858, 6127, 9684, 6738, 2963, 3617, 1123, 1900, 3305, 5738, 1308, 6690, 6227, 7707, 8145, 3120, 9533, 5439, 9514, 8738, 9841, 1513, 3556, 2347, 2703, 7662, 9519, 5857, 9642, 7919, 1575, 4940, 8851, 8762, 1632, 1759, 6554, 7152, 168, 7189, 9602, 3274, 8487, 3664, 1861, 9480, 9594, 2830, 663, 5035, 6145, 2381, 5087, 1988, 2677, 5169, 6964, 6860, 5054, 6035, 2996, 3925, 9844, 2860, 3802, 9857, 421, 2802, 2897, 2754, 358, 226, 6788, 4065, 1981, 1135, 9832, 6611, 3407, 1225, 109, 7656, 8101, 2386, 2544, 246, 6900, 4125, 9125, 6838, 6509, 3688, 1619, 3357, 6754, 268, 2368, 4941, 6586, 2610, 1950, 4269, 39, 3096, 6790, 4983, 9990, 1621, 5237, 2001, 2455, 649, 1796, 8014, 9438, 2008, 5101, 277, 9048, 2776, 538, 2802, 9218, 6537, 2687, 108, 4967, 1829, 3211, 7911, 4936, 2184, 5068, 1994, 5441, 2530, 4849, 6804, 4986, 1434, 4563, 8843, 4731, 5317, 1894, 885, 2947, 5527, 876, 9754, 8763, 3786, 7564, 25, 7254, 9485, 7537, 2827, 5036, 9614, 3845, 7189, 9015, 4619, 6064, 3746, 7918, 9894, 3980, 7600, 8176, 7911, 9531, 1241, 579, 2390, 954, 2181, 5694, 1017, 6615, 30, 6339, 9994, 2642, 9380, 8961, 6765, 9968, 3842, 7097, 7568, 6790, 7873, 6639, 196, 2916, 5483, 6708, 9500, 3279, 8275, 6738, 6644, 483, 9747, 5463, 3667, 1769, 2342, 709, 2035, 8758, 2743, 4425, 8881, 4292, 4570, 5883, 3632, 5173, 233, 4709, 2579, 6180, 4049, 6056, 5755, 3295, 687, 635, 4765, 5154, 5333, 2118, 9784, 229, 6897, 9966, 2821, 1514, 2944, 6993, 5936, 6207, 4911, 3557, 2566, 3275, 4898, 3835, 831, 806, 2761, 5482, 3406, 8393, 6479, 2553, 1927, 9033, 980, 877, 9281, 2558, 8110, 1733, 2203, 1273, 7212, 7025, 932, 6837, 2859, 3354, 3861, 9260, 1069, 3854, 578, 1965, 2502, 7371, 8434, 8685, 5864, 446, 3450, 5885, 450, 156, 7601, 1658, 5508, 4801, 8511, 6218, 1542, 7270, 871, 7509, 8890, 233, 6487, 466, 9328, 9032, 5213, 5140, 2200, 3325, 2620, 517, 9581, 9777, 6464, 7554, 4272, 218, 750, 9958, 9618, 1623, 2688, 6859, 9862, 1054, 5327, 8478, 7862, 6387, 9938, 9763, 6581, 5532, 2614, 3978, 6885, 7538, 7646, 768, 2970, 2331, 7501, 2392, 6703, 3078, 4273, 3083, 3623, 534, 9059, 1390, 7702, 8451, 5356, 20, 3314, 4477, 11, 3923, 436, 5474, 5652, 1323, 9683, 5682, 2618, 3956, 1203, 1122, 5376, 2759, 5562, 1886, 1437, 1600, 1731, 3570, 9470, 3410, 8775, 7786, 2929, 2572, 1256, 872, 335, 6219, 9888, 3958, 7481, 8752, 2698, 5196, 2518, 9635, 1278, 2405, 6139, 296, 5251, 766, 8109, 9121, 304, 9822, 8051, 8228, 899, 3516, 687, 8063, 1030, 2413, 5391, 6441, 7967, 621, 7839, 1930, 7288, 9040, 65, 1405, 5374, 2185, 527, 6309, 3661, 5931, 1296, 6207, 363, 8959, 2106, 7559, 5044, 4629, 5608, 141, 3271, 3918, 348, 6264, 3678, 1048, 1349, 6475, 7283, 939, 4644, 6088, 2433, 7157, 7500, 1939, 5866, 4577, 9001, 8185, 1112, 8222, 9778, 5440, 5173, 4156, 6353, 2703, 1310, 4377, 2547, 1282, 741, 7278, 3595, 1399, 1990, 4372, 348, 6701, 9789, 1035, 3015, 9022, 6998, 2555, 5857, 8185, 3332, 9244, 9977, 3493, 8822, 9748, 6217, 7827, 6679, 1855, 1930, 8884, 7078, 5028, 9181, 603, 806, 7605, 7671, 6547, 6614, 6487, 6572, 7220, 8899, 4387, 9008, 3522, 796, 7371, 2457, 5751, 5302, 1793, 4825, 4627, 9505, 9941, 2652, 977, 4715, 7982, 2637, 4587, 2308, 7660, 461, 1440, 5490, 4875, 9766, 1717, 1254, 8313, 7148, 1450, 862, 7675, 9702, 9311, 1164, 1629, 5420, 1862, 4903, 2106, 401, 1978, 6784, 9515, 227, 8577, 1944, 5507, 3296, 7998, 8944, 8474, 1516, 6602, 721, 567, 9168, 6612, 526, 4196, 5541, 5046, 1990, 1853, 434, 7498, 3582, 7705, 8577, 1517, 2559, 493, 1816, 9027, 6267, 5373, 5799, 2091, 1094, 596, 5294, 1460, 7074, 3253, 2113, 7744, 5260, 4899, 5118, 2328, 1030, 5294, 8158, 816, 6964, 9375, 3099, 4429, 6586, 327, 42, 8011, 3477, 1975, 6590, 7171, 1507, 712, 1676, 1014, 3083, 560, 5223, 8507, 7366, 6513, 6728, 9021, 2003, 5541, 3650, 4224, 9892, 2062, 3771, 4213, 1450, 7408, 508, 4860, 5811, 8158, 9179, 9465, 5728, 8306, 183, 3114, 5612, 321, 8179, 4345, 8698, 3887, 5095, 1901, 9406, 5694, 6307, 9669, 719, 1405, 789, 328, 3259, 7423, 9645, 8934, 6524, 5928, 7487, 5028, 4313, 6975, 3401, 9366, 5440, 465, 4438, 4333, 8082, 9491, 338, 8771, 224, 5898, 9215, 4405, 9621, 1518, 4151, 9249, 2083, 4396, 5171, 2223, 2851, 4555, 3947, 2229, 2791, 6913, 7855, 3749, 3763, 3751, 1349, 378, 8971, 2026, 7892, 1267, 254, 1332, 1473, 9135, 7940, 554, 3896, 5274, 1827, 727, 1613, 7431, 9112, 8122, 5235, 2782, 389, 331, 2557, 1255, 8038, 3507, 3139, 1864, 3672, 5372, 6088, 876, 1531, 1095, 8889, 8149, 8695, 941, 6184, 6611, 4366, 1880, 4186, 325, 4001, 355, 5165, 223, 901, 719, 3694, 4829, 8983, 8071, 8171, 7815, 7822, 6150, 6372, 165, 3248, 7944, 7495, 37, 3336, 1374, 1741, 7467, 5830, 2630, 799, 856, 871, 7803, 8332, 1934, 3814, 8344, 6399, 6578, 4323, 1459, 6461, 7747, 5907, 7543, 4140, 2811, 3785, 6418, 2091, 1539, 3092, 4017, 3341, 8284, 6216, 9401, 9495, 2731, 2081, 9928, 2925, 5093, 9366, 778, 4392, 5196, 3098, 9088, 6491, 4552, 7865, 6910, 6486, 1945, 6433, 3268, 634, 2859, 8110, 3184, 3565, 1595, 9035, 2593, 9281, 2378, 4245, 79, 9473, 1248, 3730, 7273, 3595, 8259, 9539, 6095, 3620, 6231, 3382, 8962, 40, 2376, 5023, 2008, 2689, 8854, 1687, 3444, 4011, 3680, 3525, 918, 2805, 2501, 8301, 191, 554, 6486, 3110, 5607, 2193, 5808, 7825, 9395, 657, 1161, 7158, 177, 6009, 489, 3121, 3557, 8463, 5691, 9837, 1753, 9960, 8163, 799, 5489, 4680, 8402, 8839, 2461, 3322, 1912, 7811, 8706, 289, 4953, 740, 6555, 2448, 2996, 7268, 9164, 8151, 6480, 1304, 3976, 8591, 3367, 7699, 7683, 1065, 2008, 2428, 3978, 225, 3351, 5985, 6033, 3705, 4792, 7867, 5181, 4595, 1276, 1411, 7556, 1198, 3995, 6678, 786, 6533, 3187, 4661, 1438, 1397, 9839, 1600, 9580, 8830, 2364, 6661, 7059, 5035, 9016, 8995, 7649, 1381, 6155, 2995, 8158, 1733, 3563, 6041, 7583, 377, 5834, 9880, 2604, 2185, 7235, 5476, 1764, 1178, 5014, 5068, 3055, 6370, 8735, 983, 3605, 1229, 4925, 2013, 4925, 7152, 3506, 5210, 3496, 60, 2103, 671, 4159, 2838, 1762, 6570, 5465, 3156, 6314, 8151, 6162, 3434, 2938, 535, 4089, 2917, 5364, 2175, 4537, 9704, 8072, 164, 9339, 6262, 7829, 7158, 8201, 2079, 7983, 3898, 6149, 1630, 7746, 5853, 8315, 7906, 2150, 437, 2997, 1388, 4467, 6394, 2526, 5784, 9543,261, 4121, 4256, 7686, 7672, 8387, 2077, 7393, 5935, 9062, 3135, 3338, 7957, 5791, 4063, 1286, 122, 4770, 8499, 5124, 4003, 8588, 2946, 1054, 7474, 4410, 7800, 1374, 3400, 9672, 7964, 1827, 9144, 2124, 6433, 915, 9102, 8021, 7594, 3651, 1168, 6190, 5329, 277, 4436, 7511, 777, 5201, 2258, 9654, 738, 5607, 3051, 4921, 1854, 515, 8058, 9535, 1090, 8066, 426, 328, 8286, 3045, 4984, 123, 2193, 548, 9242, 7143, 7174, 1205, 976, 9739, 2292, 2957, 3546, 697, 6709, 3381, 7531, 1160, 996, 3280, 5084, 938, 3645, 9981, 340, 8270, 1456, 2136, 2886, 8135, 2950, 2790, 6124, 4044, 247, 337, 5027, 7601, 2395, 6288, 9318, 3253, 2207, 9482, 4703, 9134, 4235, 6892, 5404, 9714, 5122, 1562, 4655, 2247, 9689, 5235, 1320, 1646, 3371, 4968, 3126, 1483, 7740, 829, 4220, 9880, 3581, 2289, 321, 5995, 9951, 2539, 3467, 6949, 7532, 6214, 5948, 7516, 3618, 4206, 6957, 4107, 4929, 3819, 7706, 6440, 6472, 5005, 8543, 5223, 1739, 665, 5954, 5213, 1863, 1572, 8704, 3688, 1145, 9436, 5916, 5373, 6124, 1007, 8469, 33, 6689, 6070, 552, 5292, 1940, 5666, 8278, 5963, 6508, 8283, 7112, 2021, 2835, 5429, 7327, 161, 5735, 2659, 7568, 614, 1345, 6832, 7857, 2658, 6164, 4140, 2301, 5231, 7848, 7379, 5454, 5619, 6839, 7461, 412, 3895, 6935, 1793, 1536, 6970, 218, 371, 8206, 9479, 1042, 1744, 6307, 8756, 6041, 2640, 3867, 956, 7328, 3067, 4966, 8512, 7830, 8711, 4123, 7049, 8875, 4753, 3326, 4113, 9414, 9817, 5422, 5667, 1460, 7747, 9442, 9952, 4082, 7595, 486, 8516, 7405, 9369, 2960, 5064, 9303, 5013, 7672, 3193};
    k = 4371;
    cout << minimumAmplitude(nums6, k) << endl; // Result: 9992
    
    return 0;
}
